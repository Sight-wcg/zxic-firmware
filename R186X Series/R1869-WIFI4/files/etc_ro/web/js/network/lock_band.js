define(["jquery","knockout","config/config","service","underscore"],function(f,e,d,a,c){function b(){var i=this;var h=a.getBandstatus();if(0==h.lteband.length){i.ltebandtitle_show=e.observable(0)}else{i.ltebandtitle_show=e.observable(1)}if(0==h.wcdmaband.length){i.wcdmabandtitle_show=e.observable(0)}else{i.wcdmabandtitle_show=e.observable(1)}if(0==h.gsmband.length){i.gsmbandtitle_show=e.observable(0)}else{i.gsmbandtitle_show=e.observable(1)}if(h.lteband.search("band1;")!=-1){i.lteband1_show=e.observable(1);if(h.locklteband.search("band1;")!=-1){i.lteband1_switch=e.observable(1)}else{i.lteband1_switch=e.observable(0)}}else{i.lteband1_show=e.observable(0);i.lteband1_switch=e.observable(0)}if(h.lteband.search("band2;")!=-1){i.lteband2_show=e.observable(1);if(h.locklteband.search("band2;")!=-1){i.lteband2_switch=e.observable(1)}else{i.lteband2_switch=e.observable(0)}}else{i.lteband2_show=e.observable(0);i.lteband2_switch=e.observable(0)}if(h.lteband.search("band3;")!=-1){i.lteband3_show=e.observable(1);if(h.locklteband.search("band3;")!=-1){i.lteband3_switch=e.observable(1)}else{i.lteband3_switch=e.observable(0)}}else{i.lteband3_show=e.observable(0);i.lteband3_switch=e.observable(0)}if(h.lteband.search("band4;")!=-1){i.lteband4_show=e.observable(1);if(h.locklteband.search("band4;")!=-1){i.lteband4_switch=e.observable(1)}else{i.lteband4_switch=e.observable(0)}}else{i.lteband4_show=e.observable(0);i.lteband4_switch=e.observable(0)}if(h.lteband.search("band5;")!=-1){i.lteband5_show=e.observable(1);if(h.locklteband.search("band5;")!=-1){i.lteband5_switch=e.observable(1)}else{i.lteband5_switch=e.observable(0)}}else{i.lteband5_show=e.observable(0);i.lteband5_switch=e.observable(0)}if(h.lteband.search("band7;")!=-1){i.lteband7_show=e.observable(1);if(h.locklteband.search("band7;")!=-1){i.lteband7_switch=e.observable(1)}else{i.lteband7_switch=e.observable(0)}}else{i.lteband7_show=e.observable(0);i.lteband7_switch=e.observable(0)}if(h.lteband.search("band8;")!=-1){i.lteband8_show=e.observable(1);if(h.locklteband.search("band8;")!=-1){i.lteband8_switch=e.observable(1)}else{i.lteband8_switch=e.observable(0)}}else{i.lteband8_show=e.observable(0);i.lteband8_switch=e.observable(0)}if(h.lteband.search("band18;")!=-1){i.lteband18_show=e.observable(1);if(h.locklteband.search("band18;")!=-1){i.lteband18_switch=e.observable(1)}else{i.lteband18_switch=e.observable(0)}}else{i.lteband18_show=e.observable(0);i.lteband18_switch=e.observable(0)}if(h.lteband.search("band19;")!=-1){i.lteband19_show=e.observable(1);if(h.locklteband.search("band19;")!=-1){i.lteband19_switch=e.observable(1)}else{i.lteband19_switch=e.observable(0)}}else{i.lteband19_show=e.observable(0);i.lteband19_switch=e.observable(0)}if(h.lteband.search("band20;")!=-1){i.lteband20_show=e.observable(1);if(h.locklteband.search("band20;")!=-1){i.lteband20_switch=e.observable(1)}else{i.lteband20_switch=e.observable(0)}}else{i.lteband20_show=e.observable(0);i.lteband20_switch=e.observable(0)}if(h.lteband.search("band26;")!=-1){i.lteband26_show=e.observable(1);if(h.locklteband.search("band26;")!=-1){i.lteband26_switch=e.observable(1)}else{i.lteband26_switch=e.observable(0)}}else{i.lteband26_show=e.observable(0);i.lteband26_switch=e.observable(0)}if(h.lteband.search("band28;")!=-1){i.lteband28_show=e.observable(1);if(h.locklteband.search("band28;")!=-1){i.lteband28_switch=e.observable(1)}else{i.lteband28_switch=e.observable(0)}}else{i.lteband28_show=e.observable(0);i.lteband28_switch=e.observable(0)}if(h.lteband.search("band34;")!=-1){i.lteband34_show=e.observable(1);if(h.locklteband.search("band34;")!=-1){i.lteband34_switch=e.observable(1)}else{i.lteband34_switch=e.observable(0)}}else{i.lteband34_show=e.observable(0);i.lteband34_switch=e.observable(0)}if(h.lteband.search("band38;")!=-1){i.lteband38_show=e.observable(1);if(h.locklteband.search("band38;")!=-1){i.lteband38_switch=e.observable(1)}else{i.lteband38_switch=e.observable(0)}}else{i.lteband38_show=e.observable(0);i.lteband38_switch=e.observable(0)}if(h.lteband.search("band39;")!=-1){i.lteband39_show=e.observable(1);if(h.locklteband.search("band39;")!=-1){i.lteband39_switch=e.observable(1)}else{i.lteband39_switch=e.observable(0)}}else{i.lteband39_show=e.observable(0);i.lteband39_switch=e.observable(0)}if(h.lteband.search("band40;")!=-1){i.lteband40_show=e.observable(1);if(h.locklteband.search("band40;")!=-1){i.lteband40_switch=e.observable(1)}else{i.lteband40_switch=e.observable(0)}}else{i.lteband40_show=e.observable(0);i.lteband40_switch=e.observable(0)}if(h.lteband.search("band41;")!=-1){i.lteband41_show=e.observable(1);if(h.locklteband.search("band41;")!=-1){i.lteband41_switch=e.observable(1)}else{i.lteband41_switch=e.observable(0)}}else{i.lteband41_show=e.observable(0);i.lteband41_switch=e.observable(0)}if(h.lteband.search("band66;")!=-1){i.lteband66_show=e.observable(1);if(h.locklteband.search("band66;")!=-1){i.lteband66_switch=e.observable(1)}else{i.lteband66_switch=e.observable(0)}}else{i.lteband66_show=e.observable(0);i.lteband66_switch=e.observable(0)}if(h.wcdmaband.search("band1;")!=-1){i.wcdmaband1_show=e.observable(1);if(h.lockwcdmaband.search("band1;")!=-1){i.wcdmaband1_switch=e.observable(1)}else{i.wcdmaband1_switch=e.observable(0)}}else{i.wcdmaband1_show=e.observable(0);i.wcdmaband1_switch=e.observable(0)}if(h.wcdmaband.search("band2;")!=-1){i.wcdmaband2_show=e.observable(1);if(h.lockwcdmaband.search("band2;")!=-1){i.wcdmaband2_switch=e.observable(1)}else{i.wcdmaband2_switch=e.observable(0)}}else{i.wcdmaband2_show=e.observable(0);i.wcdmaband2_switch=e.observable(0)}if(h.wcdmaband.search("band3;")!=-1){i.wcdmaband3_show=e.observable(1);if(h.lockwcdmaband.search("band3;")!=-1){i.wcdmaband3_switch=e.observable(1)}else{i.wcdmaband3_switch=e.observable(0)}}else{i.wcdmaband3_show=e.observable(0);i.wcdmaband3_switch=e.observable(0)}if(h.wcdmaband.search("band4;")!=-1){i.wcdmaband4_show=e.observable(1);if(h.lockwcdmaband.search("band4;")!=-1){i.wcdmaband4_switch=e.observable(1)}else{i.wcdmaband4_switch=e.observable(0)}}else{i.wcdmaband4_show=e.observable(0);i.wcdmaband4_switch=e.observable(0)}if(h.wcdmaband.search("band5;")!=-1){i.wcdmaband5_show=e.observable(1);if(h.lockwcdmaband.search("band5;")!=-1){i.wcdmaband5_switch=e.observable(1)}else{i.wcdmaband5_switch=e.observable(0)}}else{i.wcdmaband5_show=e.observable(0);i.wcdmaband5_switch=e.observable(0)}if(h.wcdmaband.search("band8;")!=-1){i.wcdmaband8_show=e.observable(1);if(h.lockwcdmaband.search("band8;")!=-1){i.wcdmaband8_switch=e.observable(1)}else{i.wcdmaband8_switch=e.observable(0)}}else{i.wcdmaband8_show=e.observable(0);i.wcdmaband8_switch=e.observable(0)}if(h.gsmband.search("gsm850;")!=-1){i.gsm850_show=e.observable(1);if(h.lockgsmband.search("gsm850;")!=-1){i.gsm850_switch=e.observable(1)}else{i.gsm850_switch=e.observable(0)}}else{i.gsm850_show=e.observable(0);i.gsm850_switch=e.observable(0)}if(h.gsmband.search("gsm900E;")!=-1){i.gsm900E_show=e.observable(1);if(h.lockgsmband.search("gsm900E;")!=-1){i.gsm900E_switch=e.observable(1)}else{i.gsm900E_switch=e.observable(0)}}else{i.gsm900E_show=e.observable(0);i.gsm900E_switch=e.observable(0)}if(h.gsmband.search("gsm1800;")!=-1){i.gsm1800_show=e.observable(1);if(h.lockgsmband.search("gsm1800;")!=-1){i.gsm1800_switch=e.observable(1)}else{i.gsm1800_switch=e.observable(0)}}else{i.gsm1800_show=e.observable(0);i.gsm1800_switch=e.observable(0)}if(h.gsmband.search("gsm1900;")!=-1){i.gsm1900_show=e.observable(1);if(h.lockgsmband.search("gsm1900;")!=-1){i.gsm1900_switch=e.observable(1)}else{i.gsm1900_switch=e.observable(0)}}else{i.gsm1900_show=e.observable(0);i.gsm1900_switch=e.observable(0)}i.save=function(){showLoading();i.lteband1_switch(f("#inlineCheckbox1:checked").length>0?"1":"0");i.lteband2_switch(f("#inlineCheckbox2:checked").length>0?"1":"0");i.lteband3_switch(f("#inlineCheckbox3:checked").length>0?"1":"0");i.lteband4_switch(f("#inlineCheckbox4:checked").length>0?"1":"0");i.lteband5_switch(f("#inlineCheckbox5:checked").length>0?"1":"0");i.lteband7_switch(f("#inlineCheckbox6:checked").length>0?"1":"0");i.lteband8_switch(f("#inlineCheckbox7:checked").length>0?"1":"0");i.lteband18_switch(f("#inlineCheckbox26:checked").length>0?"1":"0");i.lteband19_switch(f("#inlineCheckbox27:checked").length>0?"1":"0");i.lteband20_switch(f("#inlineCheckbox8:checked").length>0?"1":"0");i.lteband26_switch(f("#inlineCheckbox28:checked").length>0?"1":"0");i.lteband28_switch(f("#inlineCheckbox9:checked").length>0?"1":"0");i.lteband34_switch(f("#inlineCheckbox10:checked").length>0?"1":"0");i.lteband38_switch(f("#inlineCheckbox11:checked").length>0?"1":"0");i.lteband39_switch(f("#inlineCheckbox12:checked").length>0?"1":"0");i.lteband40_switch(f("#inlineCheckbox13:checked").length>0?"1":"0");i.lteband41_switch(f("#inlineCheckbox14:checked").length>0?"1":"0");i.lteband66_switch(f("#inlineCheckbox15:checked").length>0?"1":"0");console.log("band1: "+i.lteband1_switch());console.log("band2: "+i.lteband2_switch());console.log("band3: "+i.lteband3_switch());console.log("band4: "+i.lteband4_switch());console.log("band5: "+i.lteband5_switch());console.log("band7: "+i.lteband7_switch());console.log("band8: "+i.lteband8_switch());console.log("band18: "+i.lteband18_switch());console.log("band19: "+i.lteband19_switch());console.log("band20: "+i.lteband20_switch());console.log("band26: "+i.lteband26_switch());console.log("band28: "+i.lteband28_switch());console.log("band34: "+i.lteband34_switch());console.log("band38: "+i.lteband38_switch());console.log("band39: "+i.lteband39_switch());console.log("band40: "+i.lteband40_switch());console.log("band41: "+i.lteband41_switch());console.log("band66: "+i.lteband66_switch());i.wcdmaband1_switch(f("#inlineCheckbox16:checked").length>0?"1":"0");i.wcdmaband2_switch(f("#inlineCheckbox17:checked").length>0?"1":"0");i.wcdmaband3_switch(f("#inlineCheckbox18:checked").length>0?"1":"0");i.wcdmaband4_switch(f("#inlineCheckbox19:checked").length>0?"1":"0");i.wcdmaband5_switch(f("#inlineCheckbox20:checked").length>0?"1":"0");i.wcdmaband8_switch(f("#inlineCheckbox21:checked").length>0?"1":"0");console.log("wcdmaband1: "+i.wcdmaband1_switch());console.log("wcdmaband2: "+i.wcdmaband2_switch());console.log("wcdmaband3: "+i.wcdmaband3_switch());console.log("wcdmaband4: "+i.wcdmaband4_switch());console.log("wcdmaband5: "+i.wcdmaband5_switch());console.log("wcdmaband8: "+i.wcdmaband8_switch());i.gsm850_switch(f("#inlineCheckbox22:checked").length>0?"1":"0");i.gsm900E_switch(f("#inlineCheckbox23:checked").length>0?"1":"0");i.gsm1800_switch(f("#inlineCheckbox24:checked").length>0?"1":"0");i.gsm1900_switch(f("#inlineCheckbox25:checked").length>0?"1":"0");console.log("gsm850: "+i.gsm850_switch());console.log("gsm900E: "+i.gsm900E_switch());console.log("gsm1800: "+i.gsm1800_switch());console.log("gsm1900: "+i.gsm1900_switch());var l={};l.n1=0;l.n3=0;l.n4=0;l.n5=0;l.n6=0;l.n9=0;if(1==i.lteband1_switch()){l.n1=l.n1|1}if(1==i.lteband2_switch()){l.n1=l.n1|2}if(1==i.lteband3_switch()){l.n1=l.n1|4}if(1==i.lteband4_switch()){l.n1=l.n1|8}if(1==i.lteband5_switch()){l.n1=l.n1|16}if(1==i.lteband7_switch()){l.n1=l.n1|64}if(1==i.lteband8_switch()){l.n1=l.n1|128}if(1==i.lteband18_switch()){l.n3=l.n3|2}if(1==i.lteband19_switch()){l.n3=l.n3|4}if(1==i.lteband20_switch()){l.n3=l.n3|8}if(1==i.lteband26_switch()){l.n4=l.n4|2}if(1==i.lteband28_switch()){l.n4=l.n4|8}if(1==i.lteband34_switch()){l.n5=l.n5|2}if(1==i.lteband38_switch()){l.n5=l.n5|32}if(1==i.lteband39_switch()){l.n5=l.n5|64}if(1==i.lteband40_switch()){l.n5=l.n5|128}if(1==i.lteband41_switch()){l.n6=l.n6|1}if(1==i.lteband66_switch()){l.n9=l.n9|2}console.log("n1: "+l.n1);console.log("n3: "+l.n3);console.log("n4: "+l.n4);console.log("n5: "+l.n5);console.log("n6: "+l.n6);console.log("n9: "+l.n9);var n=0;if(1==i.wcdmaband1_switch()){n=n|1}if(1==i.wcdmaband2_switch()){n=n|2}if(1==i.wcdmaband3_switch()){n=n|4}if(1==i.wcdmaband4_switch()){n=n|16}if(1==i.wcdmaband5_switch()){n=n|32}if(1==i.wcdmaband8_switch()){n=n|128}console.log("wcdma_lock_params: "+n);var o=0;if(1==i.gsm850_switch()){o=o|8}if(1==i.gsm900E_switch()){o=o|32}if(1==i.gsm1800_switch()){o=o|64}if(1==i.gsm1900_switch()){o=o|128}console.log("gsm_lock_params: "+o);var m={at_str_data:"AT+ZLTEBAND="+l.n1+",0,"+l.n3+","+l.n4+","+l.n5+","+l.n6+",0,0,"+l.n9};var k={at_str_data:"AT+ZGSMBAND="+o};var j={at_str_data:"AT+ZFDDBAND="+n+",0,0"};a.SendAT(m,function(p){if(p.result=="OK"){console.log("lte ok");a.SendAT(k,function(q){if(q.result=="OK"){console.log("gsm_ok");a.SendAT(j,function(r){if(r.result=="OK"){console.log("wcdma ok");showAlert("setsucc_reboot");restartDevice(a)}else{errorOverlay()}})}else{errorOverlay()}})}else{errorOverlay()}})}}function g(){var h=f("#container");e.cleanNode(h[0]);var i=new b();e.applyBindings(i,h[0])}return{init:g}});