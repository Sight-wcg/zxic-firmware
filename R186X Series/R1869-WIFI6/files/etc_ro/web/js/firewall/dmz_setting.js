define(["jquery","knockout","config/config","service","underscore"],function(f,e,d,a,c){function g(){var i=this;var j=b();i.isDataCard=d.PRODUCT_TYPE=="DATACARD";i.dmzSetting=e.observable(j.dmzSetting);i.ipAddress=e.observable(j.ipAddress);i.clear=function(){h()};i.save=function(){showLoading();var k={};k.dmzSetting=i.dmzSetting();k.ipAddress=i.ipAddress();a.setDmzSetting(k,function(l){if(l.result=="success"){i.clear();successOverlay()}else{errorOverlay()}})}}function b(){return a.getDmzSetting()}function h(){var i=f("#container");e.cleanNode(i[0]);var j=new g();e.applyBindings(j,i[0]);f("#dmzSettingForm").validate({submitHandler:function(){j.save()},rules:{txtIpAddress:"dmz_ip_check"}})}return{init:h}});