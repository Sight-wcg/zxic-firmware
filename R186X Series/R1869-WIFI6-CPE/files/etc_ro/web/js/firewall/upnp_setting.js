define(["jquery","knockout","config/config","service","underscore"],function(f,d,c,a,b){function g(){var i=this;var j=e();i.upnpSetting=d.observable(j.upnpSetting);i.save=function(){showLoading();var k={};k.upnpSetting=i.upnpSetting();a.setUpnpSetting(k,function(l){if(l.result=="success"){successOverlay()}else{errorOverlay()}})}}function e(){return a.getUpnpSetting()}function h(){var i=f("#container");d.cleanNode(i[0]);var j=new g();d.applyBindings(j,i[0]);f("#upnpSettingForm").validate({submitHandler:function(){j.save()}})}return{init:h}});